{{- $machineType := "" -}}
{{- if env "CHEZMOI_MACHINE_TYPE" -}}
{{-   $machineType = env "CHEZMOI_MACHINE_TYPE" -}}
{{- else -}}
{{-   $machineType = promptStringOnce . "machineType" "machineType" -}}
{{- end -}}
{{- $installGo   := or (env "CHEZMOI_INSTALL_GO"   | not | not) (and (hasKey . "installGo")   .installGo)   -}}
{{- $installRust := or (env "CHEZMOI_INSTALL_RUST" | not | not) (and (hasKey . "installRust") .installRust) -}}
{{- $installNode := or (env "CHEZMOI_INSTALL_NODE" | not | not) (and (hasKey . "installNode") .installNode) -}}
{{- $installUv   := or (env "CHEZMOI_INSTALL_UV"   | not | not) (and (hasKey . "installUv")   .installUv)   -}}
encryption = "age"
[age]
  identity = "~/.config/chezmoi/key.txt"
  recipient = "age1awmaa5hgt6z6mgzrepnls4flehjgu74tqc7fgu0sm4gg5yd30q8swufm3t"

[data]
  machineType = {{ $machineType | quote }}
  personal    = {{ eq $machineType "personal" }}
  work        = {{ eq $machineType "work" }}
  remote      = {{ eq $machineType "remote" }}
  installGo   = {{ $installGo }}
  installRust = {{ $installRust }}
  installNode = {{ $installNode }}
  installUv   = {{ $installUv }}
